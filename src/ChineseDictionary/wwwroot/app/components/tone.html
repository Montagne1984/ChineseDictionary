<d-tone>
    <div class="ui-widget-header ui-helper-clearfix" style="padding:4px 10px;border-bottom: 0 none">
        <i class="fa fa-search" style="float:left;margin:4px 4px 0 0"></i>
        <input #gb type="search" pInputText style="float: left" placeholder="{{ 'GLOBALFILTER'| translate:lang }}" />
        <button type="button" pButton icon="fa-plus" style="float: right" (click)="showDialogToAdd()" label="{{ 'ADD'| translate:lang }}"></button>
    </div>
    <p-dataTable [value]="items" selectionMode="single" [(selection)]="selectedItem" (onRowSelect)="onRowSelect($event)" [rows]="10" [paginator]="true" [rowsPerPageOptions]="[5,10,20]" [responsive]="true" [globalFilter]="gb" resizableColumns="true">
        <header>{{ title | translate:lang }}</header>
        <p-column field="area.name" header="{{ 'AREA'| translate:lang }}" [sortable]="true" [filter]="true" filterMatchMode="contains"></p-column>
        <p-column field="value" header="{{ 'VALUE'| translate:lang }}" [sortable]="true" [filter]="true" filterMatchMode="contains"></p-column>
        <p-column field="toneType.name" header="{{ 'TONETYPE'| translate:lang }}" [sortable]="true" [filter]="true" filterMatchMode="contains"></p-column>
    </p-dataTable>

    <p-dialog header="{{ 'ITEMDETAILS'| translate:lang }}" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true">
        <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="item">
            <div class="ui-grid-row">
                <div class="ui-grid-col-4">
                    <label for="value">{{ "VALUE" | translate:lang }}</label>
                </div>
                <div class="ui-grid-col-8">
                    <input pInputText id="value" [(ngModel)]="item.value" />
                </div>
            </div>
            <div class="ui-grid-row">
                <div class="ui-grid-col-4">
                    <label for="value">{{ "AREA" | translate:lang }}</label>
                </div>
                <div class="ui-grid-col-8">
                    <p-dropdown [options]="areas" [(ngModel)]="item.areaId"></p-dropdown>
                </div>
            </div>
            <div class="ui-grid-row">
                <div class="ui-grid-col-4">
                    <label for="value">{{ "TONETYPE" | translate:lang }}</label>
                </div>
                <div class="ui-grid-col-8">
                    <p-dropdown [options]="toneTypes" [(ngModel)]="item.toneTypeId"></p-dropdown>
                </div>
            </div>
        </div>
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="button" pButton icon="fa-close" (click)="delete()" label="{{ 'DELETE'| translate:lang }}" [hidden]="newItem"></button>
                <button type="button" pButton icon="fa-check" (click)="save()" label="{{ 'SAVE'| translate:lang }}"></button>
            </div>
        </footer>
    </p-dialog>
</d-tone>